<div class="form-component-sample form-component-sample-image" kind="image">
  <input type="hidden" class="hidden-input">
  <div class="form-group">
    <div style='display: inline-block'>
      <label><%= t("content_type.picture") %></label>
      <div class="components-buttons">
        <span class="component-button glyphicon glyphicon-cog" onclick="return launchEditor($(this).closest('.form-component').find('img'));"></span>
        <span class="component-button glyphicon glyphicon-remove rm-component-button"></span>
      </div>
    </div>
    <div class="text-center" id="picture" style="text-align: center; vertical-align: middle;"></div>
    <div class="btn-group-vertical">
      <a id="upload" class="btn btn-default"><%= t("components.pictures.upload") %></a>
      <a data-toggle="modal" data-target="#existModal" class="btn btn-default"><%= t("components.pictures.existing") %></a>
    </div>
    <br>
  </div>
</div>
<span id="update-path" url="<%= update_picture_path %>"></span>
<span id="upload-path" url="<%= user_pictures_path %>"></span>

<div class="modal fade" id="existModal">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title"><%= t("components.pictures.modal") %></h4>
      </div>
      <div class="modal-body">
        <% @user.pictures.all.each do |picture| %>
          <a onclick="setImage($existBtn, '<%= picture["public_id"] %>',
              'http://res.cloudinary.com/task4testcloud/image/upload/<%= picture["public_id"] %>'); $('#existModal').modal('hide');">
            <%= cl_image_tag(picture["public_id"], :height => 150, :style => 'padding: 10px; border-radius: 20px;') %></a>
        <% end %>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
